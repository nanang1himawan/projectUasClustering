Abstract  The public street light used to create good conditions for road users. The public street lamps must continue to be maintained to keep working properly. Currently, maintenance of street lighting is still done manually. In this research, a system was designed and implemented to detect lamp damage and control lights remotely using the WeMos D1 microcontroller. This system uses two LDRs as light sensors and relays to activate the lights. The first LDR is used to detect ambient light. The second LDR is used to detect lamp conditions. Light control and detection use wireless internet networks and WeMoS D1 as the web server. The system can turn on and turn off the lights automatically, detect the condition of the lamps, and show the intensity of the light environment. Distance to control via a wifi hotspot using a computer is 72m and 20m for a mobile phone. Keyword: Public street lamp, WeMos D1, web server, light sensor, wireless network.  Abstrak  Lampu jalan umum digunakan untuk menciptakan kondisi yang baik bagi pengguna jalan. Lampu penerangan jalan umum (LPJU) harus terus dipertahankan agar tetap berfungsi dengan baik. Saat ini, pemeliharaan penerangan jalan masih dilakukan secara manual. Dalam penelitian ini, sistem dirancang dan diimplementasikan untuk mendeteksi kerusakan lampu dan pengendalian lampu dari jarak jauh menggunakan mikrokontroler WeMos D1. Sistem ini menggunakan dua LDR sebagai sensor dan relay untuk mengaktifkan lampu. LDR pertama digunakan untuk mendeteksi cahaya di sekitar lingkungan dan digunakan sebagai masukan cahaya untuk sistem kontrol. LDR kedua digunakan untuk mendeteksi kondisi lampu. Pengendalian dan pendeteksian cahaya menggunakan jaringan nirkabel internet dan WeMoS D1 sebagai server web. Sistem jaringan nirkabel membutuhkan hotspot wifi. Sistem dapat menyalakan dan mematikan lampu secara otomatis, mendeteksi kondisi lampu, dan menunjukkan intensitas cahaya lingkungan. Jarak untuk mengontrol melalui hotspot wifi menggunakan komputer adalah 72m dan 20m untuk ponsel. Kata kunci : LPJU, WeMos D1, web server, sensor cahaya, jaringan nirkabel.  1. Pendahuluan Lampu penerangan jalan umum (LPJU) merupakan sebuah layanan penerangan jalan berguna untuk menciptakan kondisi jalan yang terang sehingga memudahkan bagi pengguna jalan. Sebagai sebuah peralatan elektronik, LPJU dapat mengalami kerusakan berupa lampu yang tidak menyala atau kegagalan pembacaan sensor cahaya. Untuk saat ini pemantauan kondisi lampu yang rusak masih dilakukan secara manual, untuk memudahkan pengguna  SENATIK 2018, Vol. IV, ISBN 978-602-52742-0-6 KdI-344 mengendalikan sebuah lampu dan memantau kondisi lampu dari jarak jauh maka dibuat peralatan untuk mengendalikan dan memantau lampu melalui jaringan nirkabel. Pada penelitian sebelumnya telah dirancang sebuah alat pengontrol lampu dengan menggunakan android [1]. Pada kontrol lampu ini mikrokontroler arduino akan mengirim logika data 1(ON) atau 0(OFF) ke relay melalui pin output pada mikrokontroer arduino. Aplikasi android digunakan untuk mengendalikan relay melalui web server. Mikrokontroler arduino akan terhubung ke web server agar dapat di kontrol oleh android. Modul Wi-Fi ESP8266 digunakan agar mikrokontroler arduino dapat terhubung dengan web server. Penelitian tersebut sudah berjalan dengan baik dan berhasil namun memiliki kekurangan yaitu tidak memiliki sistem pendeteksi kondisi nyala lampu dan sistem pendeteksi intensitas cahaya di lingkungan sekitar lampu. Serta kontrol lampu hanya dapat dilakukan melaui aplikasi yang telah dibuat pada android. Berdasarkan permasalahan dan alat yang sudah dibuat tersebut, akan dirancang sebuah alat untuk mengontrol nyala lampu, mendeteksi kondisi lampu, dan mendeteksi intensitas cahaya di lingkungan sekitar lampu. WeMos D1 ESP8266 digunakan sebagai pusat pengolahan data dari sistem ini. WeMos D1 ESP8266 akan terhubung dengan web server melaui jaringan nirkabel. Pengguna dapat melakukan kontrol,mengetahui kondisi lampu, dan mengetahui intensitas cahaya di lingkukan sekitar lampu melaui sebuah web browser. Pada alat ini digunakan sensor LDR sebagai pendeteksi kondisi lampu dan intensitas cahaya di lingkungan sekitar lampu. Output dari sensor LDR akan diproses oleh Wemos D1 ESP8266. Pada web browser akan ditampilkan kondisi lampu, intensitas cahaya di sekitar lampu, dan kontrol untuk menyalakan atau mematikan lampu. 2. Metodologi Penelitian Pengendalian dan deteksi penerangan jalan umum dilakukan dalam tahap tahap berikut : perancangan dan pembuatan perangkat keras dan perancangan script pada kontroler, pengujian sensor dan sistem. Perancangkat keras terdiri dari dua bagian seperti terlihat pada gambar 1. Ada dua unit pada bagian pengendali yang berbeda alamat IP. Bagian pengendali lampu terdapat dua sensor LDR untuk mendeteksi intensitas cahaya sekitar dan untuk mendeteksi keadaan lampu. Kontroler menggunakan mikrokontroler WeMos D1 yang merupakan mikrokontroler berbasis Arduino + modul Wifi (ESP8266).  Gambar 1. Diagram blok sistem pengendalian dan deteksi lampu penerangan jalan  KdI-345 CONTROLLING AND DETECTION...(Djoko Untoro Suwarno)  Setiap unit WeMos difungsikan sebagai webbrower. Unit WeMos akan mengirimkan data intensitas cahaya sekitar dan menerima perintah client yang terhubung melalui web. Unit WeMos dapat diakses melalui smartphone maupun melalui komputer pada alamat IP lokal. Pengujian sistem dilakukan secara bertahap yaitu pengujian sensor LDR dan pengendalian lampu berdasarkan cahaya disekitar unit. 3. Hasil dan Pembahasan Sistem kontrol dan deteksi nyala lampu penerangan jalan melalui jaringan nirkabel pengguna melakukan kendali serta menerima informasi dari kondisi melalui Web Browser. Tampilan pada Web browser akan ditunjukan pada gambar 2.  Gambar 2. Tampilan pada Web Browser  Hasil perancangan Sistem kontrol dan deteksi nyala lampu penerangan jalan melalui jaringan nirkabel terdiri dari dua bagian utama yaitu box kontrol dan lampu. Pada box kontrol terdiri dari dua rangkaian sensor LDR, WeMos D1, adaptor 12 volt, rangkaian relay.  Gambar 3. Hasil Implementasi Sistem Lampu  Pada perancangan ini digunakan laptop atau smatrphone sebagai akses poin dari  kedua sistem lampu. Jarak jangkauan terjauh dari laptop HP Pavilion g4 menuju masing- masing sistem lampu adalah 72 meter. Karena pada jarak lebih dari 72 meter proses  pengiriman data tidak dapat dilakuakan sperti ditunjukan pada table 1. Pada jarak kurang dari 72 meter proses pengiriman data dengan pengujian 10 kali dapat dilakukan dengan baik. Pengiriman data berupa pemberian masukan untuk menyalakan lampu, mematikan lampu.  SENATIK 2018, Vol. IV, ISBN 978-602-52742-0-6 KdI-346 Pada handphone diperoleh jarak jangkauan 20 meter. Pada jarak lebih dari 20 meter proses pengiriman data tidak dapat dilakukan seperti pada table 2. Sedangkan pada jarak kurang dari 20 meter proses pengiriman data dapat berjalan baik. Tabel 1. Keluaran rangkaian deteksi intesitas lingkungan pada lampu satu No Intensitas Cahaya (lux)  ADC (Web Server)  Range ADC Persamaan 1 1 4 4-83 y = 1.306x - 4.224 2 105 83 84-212 y = 3.1337x - 156.38 3 509 212 213-302 y = 5.5822x - 676.07 4 1010 302 303-416 y = 9.2363x - 1779.6 5 2065 416 417-490 y = 13.741x - 3654.9 6 3075 490 491-542 y = 18.696x - 6081.2 7 4043 542 543-582 y = 24.356x - 9146.2 8 5035 582 583-617 y = 28.705x - 11679 9 6033 617 618-646 y = 34.188x - 15062 10 7033 646 647-671 y = 41.02x - 19477 11 8038 671 12 9033 693 672-716 y = 45.227x - 22299 13 10050 716 Pengujian Sensor LDR-1 yang berfungsi mendeteksi intensitas cahaya di lingkungan sekitar lampu. Pada sistem lampu-1 diperoleh data ADC dengan pemberian nilai intensitas dari 1-10.000 sepeti pada table 1. Hasil ADC dari tiap ntensitas diproses sehinggan menghasilkan persamaan seperti pada table 1. Persamaan akan diubah menjadi sebuah program pada WeMos D1 lalu kemudian diakukan pengujian kembali dan diperoleh data seperti pada table 2. Dari data yang diperoleh eror <3.23% dan dinyatakan berhasil. Tabel 2. Perbandingan nilai pada Light meter dengan web server  No Light Meter (lux)  Web Server (lux)  Error (%) No  Light Meter (lux) Web Server (lux) Error (%) 1 0.1 1 12 5030 5084.72 1.09 2 105 106.85 1.76 13 5550 5630.11 1.44 3 512 518.52 1.27 14 6080 6134.56 0.90 4 1014 1037.47 2.31 15 6530 6579 0.75 5 1524 1573.18 3.23 16 7010 7103.96 1.34 6 2030 2075.1 2.22 17 7550 7678.24 1.70 7 2530 2583.51 2.12 18 8100 8229.22 1.60 8 3060 3117.23 1.87 19 8530 8636.27 1.25 9 3530 3603.33 2.08 20 9060 9178.99 1.31 10 4060 4103.46 1.07 21 9530 9586.03 0.59 11 4580 4663.65 1.83 22 10040 10083.53 0.43 Pada sistem lampu-2 diperoleh data ADC dengan pemberian nilai intensitas dari 0- 4673 sepeti pada table 3. Hasil ADC dari tiap ntensitas diproses sehinggan menghasilkan persamaan seperti pada table 3. Persamaan akan diubah menjadi sebuah program pada  KdI-347 CONTROLLING AND DETECTION...(Djoko Untoro Suwarno) WeMos D1 lalu kemudian diakukan pengujian kembali dan diperoleh data seperti pada table 4. Dari data yang diperoleh eror <3.10% dan dinyatakan berhasil. Tabel 3. Keluaran rangkaian deteksi intesitas lingkungan pada lampu satu No Intensitas Cahaya (lux)  ADC (Web Server) Range ADC Persamaan 1 1 6 6-393 y = 0.266x - 0.4629 2 104 393 394-703 y = 1.2981x - 405.85 3 507 703 704-830 y = 3.9546x - 2273.4 4 1008 830 831-892 y = 8.0723x - 5690 5 1511 892 893-960 y = 12.14x - 9318 6 2033 935 7 2525 960 961-981 y = 24.458x - 20948 8 3033 981 982-998 y = 28.696x - 25104 9 3528 998 999-1011 y = 40x - 36383 10 4038 1011 1012-1020 y = 50.256x - 46747 11 4528 1020 1021-1024 y = 38.667x - 34922 12 4673 1024 Tabel 4. Perbandingan nilai pada Light meter dengan web server  No Light Meter (lux)  Web Server (lux)  Error (%) No  Light Meter (lux) Web Server (lux) Error (%) 1 0.1 0.6 7 2620 2653.97 1.30 2 100 102.48 2.48 8 3150 3247.65 3.10 3 512 518.55 1.28 9 3560 3657 2.72 4 1020 1026.15 0.60 10 4060 4162.33 2.52 5 1482 1494.35 0.83 11 4480 4595.67 2.58 6 2050 2057.18 0.35 12 4570 4673.01 2.25 Selain melakukan deteksi intensitas cahaya lingkungan, sistem ini juga akan mendeteksi kondisi lampu. Kondisi lampu pada tiap sistem akan dideteksi oleh LDR-2. Pada sistem deteksi kondisi lampu digunakan rangkiana komparator yang berfungsi membandingkan kondisi LDR-2 dengan potensio. Potensio berfungsi sebagai tunning kondisi lampu. Sehingga kondisi lampu terdeteksi secara benar. Saat kondisi lampu menyala maka tegangan pada LDR-2 akan meningkat. Saat tegangan LDR-2 < tegangan potensio maka keluaran komparator akan vcc (5 volt) dan jika tegangan pada LDR-2 > tegangan potensio maka keluaran komparator vee (0 volt). Karena WeMos D1 bekerja pada tegangan 3.3 volt maka keluaran komparator diberikan rangkaian regulator tegangan 3.3 volt agar tegangan tidak melebihi batas 3.3V Saat keluaran komparator bernilai high maka status lampu akan terbaca on dan jika keluaran komparator vee maka status lampu terbaca off seperti pada tabel 5. Dari data yang diperoleh disimpulkan sistem pendeteksi lampu dapat bekerja dengan benar.  SENATIK 2018, Vol. IV, ISBN 978-602-52742-0-6 KdI-348 Tabel 5. Keluaran pada rangkaian deteksi kondisi lampu-1 dan web sever No. Intensitas Cahaya (lux) VLDR-2 (volt) Vpot (volt) Vout (volt)  Status Lampu pada Webserver 1 4 0 0.003 2.38 Lampu On 2 4 0 0.194 0 Lampu Off 3 1001 0.614 0.574 2.4 Lampu On 4 1001 0.616 0.867 0 Lampu Off 5 4010 1.128 0.997 2.39 Lampu On 6 4010 1.124 1.311 0 Lampu Off 7 7010 1.367 1.24 2.39 Lampu On 8 7010 1.37 1.585 0 Lampu Off 9 10010 1.57 1.515 2.37 Lampu On 10 10010 1.574 1.86 0 Lampu Off  Proses untuk menyalakan lampu dilakukan pengguna melalui web browser, pengujian dilakukan dengan memberikan masukan lalu mengamati hasil keluaran dari sistem hardware. Hasil percobaan ditunjukkan pada tabel 6.  Tabel 6. Hubungan masukan webserver terhadap lampu  No. Masukan Webserver  Keluaran WeMos D1 (pin D7)  Kondisi Relay  Lampu 1 Tombol On High Aktif Menyala 2 Tombol Off Low Non aktif Mati Sistem kontrol dan deteksi nyala lampu penerangan jalan melalui jaringan nirkabel terdiri dari dua sistem utama yaitu sistem manual dan sistem otomatis. Sistem manual adalah sistem dimana penguna menyalakan serta mematikan lampu secara manual dengan menekan tombol onn atau off pada web browser. Sedangkan sistem manual adalah sistem dimana nyala lampu dikendalikan secara otomatis sesuai keadaan intensitas cahaya dilingkunga. Jika gelap maka lampu akan menyala dan jika terang lampu akan mati. Pengujian sistem otomatis dilakukan dengan mengambil data dari intensitas cahaya pada jam yang telah ditentukan seperti pada tabel 7. Dimana lampu biasa dinyalakan pada Pukul 17.35. Sedangkan untuk waktu lampu mulai mati dipagi hari dengan nilai 81 lux diperleh pada pukul 05.01.  Tabel 7. Intensitas cahaya berdasarkan waktu Waktu Jam  Lux Meter (lux) Pagi 05.01 81 Sore 17.35 80  Bedasarkan data tersebut di buat program pada arduino. Setelah itu dilakukan pengujian sebanyak tiga kali selama tiga hari berturut dan diperoleh data seperti pada tabel 9. Dari data yang diperoleh disimpulkan sistem otomatis dapar berjalan dengan baik  KdI-349 CONTROLLING AND DETECTION...(Djoko Untoro Suwarno)  Tabel 9. Data pengujian keberhasilan  No Hari Waktu  Jam Lux Meter (lux)  Web Browser (lux) Status Lampu  Lamp u 1 Lamp u 2 Lamp u 1 Lamp u 2 Lamp u 1 Lamp u 2 Lamp u 1 Lamp u 2 1 Kesatu Pagi 05.05 05.05 85 85 84.58 82 Off Off 2 Kesatu Pagi 05.12 05.12 98 98 84.58 82 Off Off 3 Kedua Pagi 05.11 05.11 87 87 80.67 80.93 Off Off 4 Kedua Sore 17.36 17.36 78 78 78.05 77.24 On On 5 Ketiga Sore 17.35 17.36 69 62 79.35 79.34 On On 6 Ketiga Sore 17.35 17.36 71 65 79.36 79.87 On On 4. Kesimpulan Berdasarkan hasil pengujian dan pengambilan data Sistem kontrol dan deteksi nyala lampu penerangan jalan melalui jaringan nirkabel dapat disimpulkan bahwa sistem dapat diimplementasi dan diuji. Sistem dapat mengontrol nyala lampu, mendeteksi kondisi lampu secara benar, menyalakan lampu secara otomatis serta menampilkan intensitas cahaya lingkungan. Lampu dapat dimonitor dan dikontrol melalui web browser. Jangkauan kendali lampu mengunakan laptop adalah 72m dan 20m untuk smartphone. Ucapan Terimakasih Peneliti mengucapkan terimakasih kepada Laboratorium Kendali dan Instrumentasi Teknik Elektro Universitas Sanata Dharma, atas fasilitas alat dan ruang yang dapat digunakan oleh peneliti. Daftar Pustaka [1]. Ellian Adhi Satya, Yuli Christiyono, Maman Somantri, (2016), Pengontrolan Lampu Melalui Internet, Transient, Vol.5, No. 3, September 2016, ISSN: 2302-9927, pp 358- 364, UNDIP [2]. Heribertus Hargo D. R., Diana Lestariningsih, Albert Gunadhi, Hartono Pranjoto, Widya Andyardja, Lanny Agustine , (2017), Alat Pengontrol dan Pemantau Lampu Penerangan Dengan Menggunakan Android, hlm 151-162, Ritektra, Unwira, Kupang. [3]. Nahvi, Mahmood., Edminister, Joseph A., (2003), Theory and Problems of Electric Circuit, Schaum’s Outline, New York. [4]. Wiryadinata, Romi., Lelono, Joko., Alimuddin, (2014), Aplikasi Sensor LDR (Light Dependent Resistance) Sebagai Pendeteksi Warna Berbasis Mikrokontroler, Jurnal Sistem Komputer, vol. 4, no. 1, hlm 13